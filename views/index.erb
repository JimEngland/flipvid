<html>

<head>
  <!--[if lt IE 9]>
    <script src="public/js/html5shiv.js"></script>
  <![endif]-->

  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="style.css">

  <title>Flipvid</title>

</head>

<body>

  <nav>
    <ul class="links">
      <li class="link selected">Animals</li>
      <li class="link">History</li>
      <li class="link">Science</li>
      <li class="link">Travel</li>
    </ul>
  </nav>
  <article>
    <section class="title-block">
      <h2 class="source">Animals</h2>
      <h3 class="title">Happy animal videos are happy</h3>
    </section>

    <section class="video-block">

      <div id="player">Loading...</div>
    </section>

    <a href="javascript:player.next();" class="next"></div>

  </article>


  <script>
    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates an <iframe> (and YouTube player)
    //    after the API code downloads.
    var player;

    var videos = new Array();
    var videoCount = 1;
    //videos[0] = '5DbGrnTaNLs'; // Wonders of the Galapagos
    //videos[1] = 'clSO7tewXBs'; // Wild Japan
    //videos[2] = 'v5TeapDEEM4'; // Jaguar Year of the Cat

    videos[0] = 'wSFB2ytWJLQ' // Sleepy Baby Bunny
    videos[1] = '-ZPAL8ja6mo' // Cheesecake and her adopted pups
    videos[2] = '0JkV4QfLH0c' // Lily the lionhead bunny
    videos[3] = '3x2kTS4cZ18' // Soori the meerkat nodding off!
    videos[4] = 'OcTb3okx_xs' // Boo the cutest Dog !
    videos[5] = '2Tgwrkk-B3k' // wolf howl
    videos[6] = '5L28TM48bF0' // Puppy Can't get up    
    videos[7] = '2Tgwrkk-B3k' // Chuckles the Red Fox
    videos[8] = 'ptyKSiRyQ4Y' // Danish Championships 2010 in Rabbit Hopping
    videos[9] = '4TQ7DDnr1yo' // Chris P Bacon - Play Time HD
    videos[10] = 'MXzHIzZBLlo' // Pig Rescues Baby Goat From Drowning in Water
    videos[11] = '-SU3CwdvPEU' // Jump goat Jump
    videos[12] = 'nN7YWz2RqH8' // English Bulldog Father meets daughter first time


    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '405',
        width: '720',
        videoId: videos[0],
        playerVars: {
          controls: '0',
          iv_load_policy: '3',
          showinfo: '0',
          modestbranding: '1'
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
      player.next = function() { 
        player.loadVideoById({'videoId': videos[videoCount]});
        videoCount = videoCount + 1;
      };
    }

    // 4. The API will call this function when the video player is ready.
    function onPlayerReady(event) {
      event.target.playVideo();
      

    }

    // 5. The API calls this function when the player's state changes.
    //    The function indicates that when playing a video (state=1),
    //    the player should play for six seconds and then stop.
    var done = false;
    function onPlayerStateChange(event) {
      if (event.data == YT.PlayerState.PLAYING && !done) {
        
        // setTimeout(function(){
        //   event.target.stopVideo();
        // },2000);

        done = true;
      }
    }

    // function next(){
    //   alert('hi!');
    //   player = document.getElementById('player');
    //   player.stopVideo();
    //   // player.event.target.loadVideoById({'videoId': videos[videoCount]});
    //   // videoCount = videoCount + 1;
    // }

  </script>

</body>

</html>